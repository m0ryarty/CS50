{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}
{% block head %}
{{ super() }}
<script>	

		function abrirNovaAba(ug_url, yt_id) {			
			window.open(`https://www.youtube.com/watch?v=${yt_id}`, '_blank')
			window.open(ug_url, '_blank')
		}
	
</script>

{% endblock %}

{% block main %}
		<h1>Play Together</h1>	

		<form action="/" method="post">
			<div class="input-group mb-3">
  				<input name="song" type="text" class="form-control" placeholder="Search a song to play together" aria-label="Search a song to play together" aria-describedby="button-addon2" autofocus>
 			 	<button class="btn btn-primary" type="submit" id="button-addon2 " value="Enviar">Search</button>
			</div>
		</form>

		<h3>Songbook</h3>

		<ul class="list-group">
			{% for song in songs %}
                <li class="list-group-item">
			<div class="input-group input-group-lg">
			<img src={{song.thumbnail}} class="img-thumbnail" alt="Song thumbnail" style="width:90px; height: 70px;">
			<input
				type="text"
				class="form-control"
				aria-label="Sizing example input"
				aria-describedby="inputGroup-sizing-default"
				name="song_choice"
				value="{{song.artist}}: {{song.song}}{{' - chord: '}}{{song.tabId}}"
				disabled
				readonly
			/>
			<button
				class="btn btn-light"
				type="submit"
				id="button-addon1"
				onclick="abrirNovaAba('{{song.tab}}', '{{song.ytId}}')"
			>
				<i class="bi bi-play-fill" style="font-size: 2rem; color:forestgreen;"></i>
</svg>
			</button>
			<button
				class="btn btn-light"
				type="submit"
			>
				<i class="bi bi-trash" style="font-size: 1.2rem; color: firebrick;"></i>
</svg>
			</button>
				</li>
            {% endfor %}
		</ul>
	</body>
{% endblock %}
